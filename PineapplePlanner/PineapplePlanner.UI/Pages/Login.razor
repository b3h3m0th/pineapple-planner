@using Microsoft.AspNetCore.Authorization
@using Microsoft.AspNetCore.Components.Authorization
@using Microsoft.JSInterop
@using PineapplePlanner.Application.Services
@using PineapplePlanner.UI.Layouts
@using PineapplePlanner.UI.Services

@page "/login"

@layout UnauthenticatedLayout

@inject IJSRuntime _jsRuntime
@inject FirebaseAuthenticationService _authService
@inject AuthenticationStateProvider _authProvider
@inject NavigationManager _navigationManager
@inject CredentialsService _credentialsService

<div class="login">
    @if (_isLoading)
    {
        <MudProgressLinear Color=@Color.Primary Indeterminate />
    }
    else
    {
        <div class="login-container">
            <h1>Login</h1>
            <!--<label for="email">Email</label>-->
            <input @bind-value=@_email id="email" type="email" placeholder="Email" />
            <!--<label for="password">Password</label>-->
            <input @bind-value=@_password id="password" type="password" placeholder="Password" /><br />
            <button @onclick=@HandleLogin>Login</button><br />
            <p>Not registered? <a href="/register">Create an account</a></p>
        </div>
    }
    <br />
    @_error
</div>

