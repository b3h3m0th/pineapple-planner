@using PineapplePlanner.Domain.Entities

<MudPaper Class="pa-4 ma-2 flex task-item" Elevation="25">
    <div class="completed">
        <MudCheckBox Value=@(Task.CompletedAt != null) Color=@Color.Surface T=@bool @oninput=@HandleCompleteChange />
    </div>
    <div class="content" @onclick=@HandleOnClick>
        <MudText Typo="Typo.h6" Style=@($"text-decoration: {(IsCompleted ?"line-through" : "none")}")>
            @Task.Name
        </MudText>
        <MudText Typo="Typo.body2" Style=@($"text-decoration: {(IsCompleted ?"line-through" : "none")}")>
            @Task.Description
        </MudText>
        <MudDivider Class="my-2"></MudDivider>
        <div class="subinfos">
            @if (Task.Priority != Domain.Enums.Priority.None && Task.Priority != null)
            {
                <MudChip T=@string Color=@PriorityColor Size=@Size.Small>
                    @Task.Priority
                </MudChip>
            }
            <div class="tags">
                @string.Join(", ", Task.Tags.Select(t => $"#{t.Name}"))
            </div>
        </div>
    </div>
</MudPaper>